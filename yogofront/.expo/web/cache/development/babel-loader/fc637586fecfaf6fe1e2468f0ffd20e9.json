{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\multicampus\\\\Documents\\\\GitHub\\\\kkyu\\\\yogo\\\\yogofront\\\\screens\\\\Cameras.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Button, Text, Block } from \"../components\";\nimport { theme } from \"../constants\";\nimport { Camera } from 'expo-camera';\nimport { FontAwesome } from '@expo/vector-icons';\nexport default function Cameras() {\n  var camRef = useRef(null);\n\n  var _useState = useState(Camera.Constants.Type.back),\n      _useState2 = _slicedToArray(_useState, 2),\n      type = _useState2[0],\n      setType = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hasPermission = _useState4[0],\n      setHaspermission = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      capturedPhoto = _useState6[0],\n      setCapturedPhoto = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      open = _useState8[0],\n      setOpen = _useState8[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Camera$request, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Camera.requestPermissionsAsync());\n\n            case 2:\n              _await$Camera$request = _context.sent;\n              status = _await$Camera$request.status;\n              setHaspermission(status === 'granted');\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  if (hasPermission === null) {\n    return React.createElement(Block, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 16\n      }\n    });\n  }\n\n  if (hasPermission === false) {\n    return React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 16\n      }\n    }, \" nono \");\n  }\n\n  function takePicture() {\n    var data;\n    return _regeneratorRuntime.async(function takePicture$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!camRef) {\n              _context2.next = 7;\n              break;\n            }\n\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(camRef.current.takePictureAsync());\n\n          case 3:\n            data = _context2.sent;\n            setCapturedPhoto(data.uri);\n            setOpen(true);\n            console.log(data.uri);\n\n          case 7:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(SafeAreaView, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, React.createElement(Camera, {\n    style: {\n      flex: 1\n    },\n    type: type,\n    ref: camRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, React.createElement(Block, {\n    style: {\n      flex: 1,\n      backgroundColor: 'transparent',\n      flexDirection: 'row'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      position: 'absolute',\n      bottom: 20,\n      left: 20\n    },\n    onPress: function onPress() {\n      setType(type === Camera.Constants.Type.back ? Camera.Constants.Type.front : Camera.Constants.Type.back);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      marginBottom: 13,\n      color: '#fff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \"\\uCE74\\uBA54\\uB77C \\uC804\\uD658\")))), React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: takePicture,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, React.createElement(FontAwesome, {\n    name: \"camera\",\n    size: 23,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  })), capturedPhoto && React.createElement(Modal, {\n    animationType: \"slide\",\n    transparent: false,\n    visible: open,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      margin: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 14\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: {\n      margin: 10\n    },\n    onPress: function onPress() {\n      return setOpen(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, React.createElement(FontAwesome, {\n    name: \"window-close\",\n    size: 50,\n    color: \"#FF0000\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  })), React.createElement(Image, {\n    style: {\n      width: '100%',\n      height: 300,\n      borderRadius: 20\n    },\n    source: {\n      uri: capturedPhoto\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  button: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#121212',\n    margin: 20,\n    borderRadius: 10,\n    height: 50\n  }\n});","map":{"version":3,"sources":["C:/Users/multicampus/Documents/GitHub/kkyu/yogo/yogofront/screens/Cameras.js"],"names":["React","useState","useEffect","useRef","Button","Text","Block","theme","Camera","FontAwesome","Cameras","camRef","Constants","Type","back","type","setType","hasPermission","setHaspermission","capturedPhoto","setCapturedPhoto","open","setOpen","requestPermissionsAsync","status","takePicture","current","takePictureAsync","data","uri","console","log","styles","container","flex","backgroundColor","flexDirection","position","bottom","left","front","fontSize","marginBottom","color","button","justifyContent","alignItems","margin","width","height","borderRadius","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { TouchableOpacity, View, StyleSheet, SafeAreaView, Modal, Image } from 'react-native';\r\n\r\nimport { Button, Text, Block } from '../components';\r\nimport { theme } from '../constants';\r\n\r\nimport { Camera } from 'expo-camera';\r\nimport { FontAwesome } from '@expo/vector-icons';\r\n\r\n\r\nexport default function Cameras() {\r\n    const camRef = useRef(null);\r\n    const [type, setType] = useState(Camera.Constants.Type.back);\r\n    const [hasPermission, setHaspermission] = useState(null);\r\n    const [capturedPhoto, setCapturedPhoto] = useState(null);\r\n    const [open, setOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const { status } = await Camera.requestPermissionsAsync();\r\n            setHaspermission(status === 'granted');\r\n        })();\r\n    }, []);\r\n\r\n    if (hasPermission === null) {\r\n        return <Block/>;\r\n    }\r\n    if (hasPermission === false) {\r\n        return <Text> nono </Text>;\r\n    }\r\n\r\n    async function takePicture() {\r\n        if(camRef){\r\n            const data = await camRef.current.takePictureAsync();\r\n            setCapturedPhoto(data.uri);\r\n            setOpen(true);\r\n            console.log(data.uri); \r\n        }\r\n    }\r\n\r\n    return (\r\n        <SafeAreaView style={styles.container}>\r\n            <Camera\r\n                style={{ flex: 1 }}\r\n                type={type}\r\n                ref={camRef}\r\n            >\r\n                <Block style={{ flex: 1, backgroundColor: 'transparent', flexDirection: 'row' }} >\r\n                    <TouchableOpacity\r\n                        style={{\r\n                            position: 'absolute',\r\n                            bottom: 20,\r\n                            left: 20,\r\n                        }}\r\n                        onPress={() => {\r\n                            setType(\r\n                                type === Camera.Constants.Type.back\r\n                                    ? Camera.Constants.Type.front\r\n                                    : Camera.Constants.Type.back\r\n                            );\r\n                        }}\r\n                    >\r\n                        <Text style={{ fontSize: 20, marginBottom: 13, color: '#fff' }}>카메라 전환</Text>\r\n                    </TouchableOpacity>\r\n                </Block>\r\n            </Camera>\r\n            \r\n            <TouchableOpacity style={styles.button} onPress={ takePicture }>\r\n                <FontAwesome name=\"camera\" size={23} color=\"#fff\" />\r\n            </TouchableOpacity>\r\n            \r\n            {capturedPhoto &&\r\n            <Modal \r\n            animationType=\"slide\"\r\n            transparent={false}\r\n            visible={open}\r\n            >\r\n             <View style={{flex: 1, justifyContent: 'center', alignItems: 'center', margin: 20}}>\r\n                <TouchableOpacity style={{margin: 10}} onPress={ () => setOpen(false)}>\r\n                <FontAwesome name=\"window-close\" size={50} color=\"#FF0000\" />\r\n                </TouchableOpacity>\r\n                <Image \r\n                    style={{ width: '100%',  height: 300, borderRadius: 20}}\r\n                    source={{ uri: capturedPhoto }}           \r\n                />\r\n             </View>\r\n            </Modal>\r\n            }\r\n        </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        justifyContent: 'center',\r\n    },\r\n    button: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#121212',\r\n    margin: 20,\r\n    borderRadius: 10,\r\n    height: 50,\r\n},\r\n});"]},"metadata":{},"sourceType":"module"}